import{I as L,n as d,bf as H,_ as J,m as g,a0 as K,p as f,q as o,R as _,j as a,u as r,t as p,a8 as A,ac as S,F as b,U as y,aa as c,V as n,Q as i,a2 as P,ar as k,b0 as m,b1 as q,be as W,S as X,v as C}from"./index.b5428c1f.js";import{Q as Z}from"./QToolbarTitle.ad5aac42.js";import{Q as $}from"./QToolbar.b8f4cf51.js";import{Q as ee}from"./QHeader.3c924b64.js";import{Q}from"./QInnerLoading.e8a064f8.js";import{Q as x}from"./QImg.b4e6faf5.js";import{Q as D}from"./QItemLabel.25732301.js";import{Q as z}from"./QList.9257b2df.js";import{Q as te}from"./QExpansionItem.20b97a67.js";import{Q as w}from"./QSkeleton.4b3630c4.js";import{Q as ae}from"./QSpace.de8f976c.js";import{Q as re}from"./QPage.40760bfd.js";import{Q as oe}from"./QPullToRefresh.2c3dbebe.js";import{Q as ne}from"./QFooter.04730c47.js";import{u as se}from"./CartStore.5dc457e4.js";import{u as ie}from"./PromoStore.1221b66c.js";import{u as le}from"./PaymentStore.5ea0ce37.js";import{u as de}from"./DeliverySched.9387c94f.js";const me=L("pointsstore",{state:()=>({is_loading:!1,loading:!1,redeem_points:{},remove_loading:!1,redeem_disabled:!0,total_points:{},data:{},count:0,points_id:{}}),persist:!0,getters:{hasData(){return d.empty(this.data)?!1:Object.keys(this.data).length>0}},actions:{loadPoints(t){this.loading=!0;const s={cart_uuid:d.getStorage("cart_uuid"),merchant_id:t};d.loadPoints(s).then(u=>{console.log(u),this.data=u.details.data,this.count=u.details.count,this.points_id=u.details.points_selected,this.data.points.amount>0&&(this.redeem_points=this.data.points.amount)}).catch(u=>{this.data=[],this.points_id=[],this.count=[],this.redeem_points=[]}).then(u=>{this.loading=!1})},hadData(){return d.empty(this.data)?!1:Object.keys(this.data).length>0}}}),ce=L("maps_store",{state:()=>({loading:!1,maps_config:[],marker_position:[]}),actions:{getMapconfig(){this.loading=!0,d.getMapconfig().then(t=>{this.maps_config=H(t.details),this.marker_position={lat:parseFloat(this.maps_config.default_lat),lng:parseFloat(this.maps_config.default_lng)}}).catch(t=>{}).then(t=>{this.loading=!1})}}}),_e={name:"CheckoutPage",components:{CartDetails:g(()=>C(()=>import("./CartDetails.ecd0b56e.js"),["assets/CartDetails.ecd0b56e.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QInnerLoading.e8a064f8.js","assets/QImg.b4e6faf5.js","assets/QItemLabel.25732301.js","assets/QSlideItem.4480c0cb.js","assets/QPullToRefresh.2c3dbebe.js","assets/touch.16a8a914.js","assets/selection.099be30b.js","assets/format.ec2e0666.js","assets/use-cache.b95af379.js","assets/QList.9257b2df.js","assets/CartStore.5dc457e4.js"])),ClientAddress:g(()=>C(()=>import("./ClientAddress.9f12325f.js"),["assets/ClientAddress.9f12325f.js","assets/QToolbarTitle.ad5aac42.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QSpace.de8f976c.js","assets/QToolbar.b8f4cf51.js","assets/QItemLabel.25732301.js","assets/QList.9257b2df.js","assets/ClientStore.845fd4cd.js"])),ChangePhone:g(()=>C(()=>import("./ChangePhone.badefa21.js"),["assets/ChangePhone.badefa21.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QToolbarTitle.ad5aac42.js","assets/QSpace.de8f976c.js","assets/QToolbar.b8f4cf51.js","assets/QSelect.72c93ca6.js","assets/QChip.bdda5644.js","assets/QItemLabel.25732301.js","assets/selection.099be30b.js","assets/rtl.9c6e6d3e.js","assets/format.ec2e0666.js","assets/QForm.e9b11582.js"])),DeliverySched:g(()=>C(()=>import("./DeliverySched.5044a85f.js"),["assets/DeliverySched.5044a85f.js","assets/QBtnToggle.becf21c8.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QSelect.72c93ca6.js","assets/QChip.bdda5644.js","assets/QItemLabel.25732301.js","assets/selection.099be30b.js","assets/rtl.9c6e6d3e.js","assets/format.ec2e0666.js","assets/DeliverySched.9387c94f.js"])),PromoList:g(()=>C(()=>import("./PromoList.e368c4ae.js"),["assets/PromoList.e368c4ae.js","assets/QToolbarTitle.ad5aac42.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QSpace.de8f976c.js","assets/QToolbar.b8f4cf51.js","assets/QForm.e9b11582.js","assets/QItemLabel.25732301.js","assets/QList.9257b2df.js","assets/PromoStore.1221b66c.js"])),PointsReedem:g(()=>C(()=>import("./PointsReedem.49bc2da5.js"),["assets/PointsReedem.49bc2da5.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QForm.e9b11582.js","assets/QToolbarTitle.ad5aac42.js","assets/QToolbar.b8f4cf51.js","assets/QHeader.3c924b64.js","assets/QResizeObserver.74d4236c.js","assets/QInnerLoading.e8a064f8.js","assets/QImg.b4e6faf5.js","assets/QItemLabel.25732301.js","assets/QList.9257b2df.js","assets/QExpansionItem.20b97a67.js","assets/QSlideTransition.d455a2fc.js","assets/QSkeleton.4b3630c4.js","assets/QSpace.de8f976c.js","assets/QPage.40760bfd.js","assets/QPullToRefresh.2c3dbebe.js","assets/touch.16a8a914.js","assets/selection.099be30b.js","assets/format.ec2e0666.js","assets/QFooter.04730c47.js","assets/CartStore.5dc457e4.js","assets/PromoStore.1221b66c.js","assets/PaymentStore.5ea0ce37.js","assets/DeliverySched.9387c94f.js"])),TipsList:g(()=>C(()=>import("./TipsList.29deef04.js"),["assets/TipsList.29deef04.js","assets/QBtnToggle.becf21c8.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QToolbarTitle.ad5aac42.js","assets/QSpace.de8f976c.js","assets/QToolbar.b8f4cf51.js","assets/QForm.e9b11582.js"])),PaymentListSaved:g(()=>C(()=>import("./PaymentListSaved.329d93d2.js"),["assets/PaymentListSaved.329d93d2.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QImg.b4e6faf5.js","assets/QItemLabel.25732301.js","assets/QList.9257b2df.js","assets/PaymentStore.5ea0ce37.js"])),StripeComponents:g(()=>C(()=>import("./StripeComponents.bc6784fa.js"),["assets/StripeComponents.bc6784fa.js","assets/QSpace.de8f976c.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QToolbar.b8f4cf51.js","assets/QInnerLoading.e8a064f8.js","assets/QForm.e9b11582.js"])),PaypalComponents:g(()=>C(()=>import("./PaypalComponents.58cb5ca5.js"),["assets/PaypalComponents.58cb5ca5.js","assets/QSpace.de8f976c.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QToolbar.b8f4cf51.js","assets/ClosePopup.43f4e78b.js","assets/index.1b1ee048.js"])),RazorpayComponents:g(()=>C(()=>import("./RazorpayComponents.c5c50d5d.js"),["assets/RazorpayComponents.c5c50d5d.js","assets/QSpace.de8f976c.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QToolbar.b8f4cf51.js","assets/index.1b1ee048.js"])),MercadopagoComponents:g(()=>C(()=>import("./MercadopagoComponents.3a9194b9.js"),["assets/MercadopagoComponents.3a9194b9.js","assets/QSpace.de8f976c.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/QToolbar.b8f4cf51.js","assets/QSelect.72c93ca6.js","assets/QChip.bdda5644.js","assets/QItemLabel.25732301.js","assets/selection.099be30b.js","assets/rtl.9c6e6d3e.js","assets/format.ec2e0666.js","assets/QForm.e9b11582.js","assets/ClosePopup.43f4e78b.js","assets/index.1b1ee048.js"])),VivaComponents:g(()=>C(()=>import("./VivaComponents.fe7d2b20.js"),["assets/VivaComponents.fe7d2b20.js","assets/QSpace.de8f976c.js","assets/index.b5428c1f.js","assets/index.f7829e99.css","assets/ClosePopup.43f4e78b.js"]))},setup(){const t=se(),s=ie(),u=me(),e=ce(),v=K(),l=le(),R=de();return{CartStore:t,PromoStore:s,PointsStore:u,MapsStore:e,DataStore:v,PaymentStore:l,DeliveryschedStore:R}},data(){return{include_utensils:!1,modal_paymentlist:!1,payment_credentials:[],payment_uuid:"",payload:["items","merchant_info","service_fee","delivery_fee","packaging","tips","checkout","discount","distance","summary","subtotal","total","items_count","check_opening","transaction_info"],loading:!1,loading_promo_rm:!1,loading_points_rm:!1,loading_tip_rm:!1}},created(){this.CartStore.getCart(!0,this.payload),this.DataStore.hadPrefix()||this.DataStore.getAttributes();const t=d.getStorage("include_utensils");d.empty(t)||(this.include_utensils=t),this.DeliveryschedStore.getDeliverySched(d.getStorage("cart_uuid"),d.getStorage("merchant_slug"))},methods:{refresh(t){this.CartStore.getCart(!0,this.payload),setTimeout(()=>{t()},1e3)},setUtensil(t){d.setStorage("include_utensils",t)},afterSetplaceid(){console.log("afterSetplaceid"),this.CartStore.getCart(!1,this.payload)},fillAddress(t){this.$refs.client_address.showModal(!1),this.$refs.address_details.location_data=t,this.$refs.address_details.showModal()},afterSaveaddress(){this.CartStore.getCart(!1,this.payload)},afterSavetrans(){this.afterSaveaddress()},afterChangephone(t){this.CartStore.getCart(!1,this.payload)},afterApplypromo(){this.CartStore.getCart(!1,this.payload)},afterRemovepromo(){this.CartStore.getCart(!1,this.payload)},afterApplypoints(){this.CartStore.getCart(!1,this.payload)},afterRemovepoints(){this.CartStore.getCart(!1,this.payload)},afterApplytips(){console.log("afterApplytips"),this.CartStore.getCart(!1,this.payload)},setPaymentcredentials(t){console.log("setPaymentcredentials"),this.payment_credentials=t},afterLoadpaymentlist(t){t?this.payment_credentials=t:this.payment_credentials=[]},setPaymentuuid(t){this.payment_uuid=t},onchoosePayment(t){try{this.$refs[t.payment_code].showPaymentForm()}catch(s){d.notify("dark",s,"error",this.$q)}},afterAddpayment(){this.modal_paymentlist=!1},afterPayment(t){this.CartStore.getCart(!0,this.payload),this.$router.push({path:"/order/successful",query:{order_uuid:t.order_uuid}})},onPlaceorder(){const t={cart_uuid:d.getStorage("cart_uuid"),local_id:d.getStorage("place_id"),include_utensils:this.include_utensils,payment_uuid:this.payment_uuid};this.payment_uuid!=""?(this.loading=!0,d.PlaceOrder(t).then(s=>{s.details.payment_instructions.method==="offline"?(this.CartStore.getCart(!0,this.payload),this.$router.replace({path:"/order/successful",query:{order_uuid:s.details.order_uuid}})):this.doPayment(s.details)}).catch(s=>{d.notify("dark",s,"error",this.$q)}).then(s=>{this.loading=!1})):d.notify("dark",this.$t("No payment Selected"),"error",this.$q)},doPayment(t){this.$refs[t.payment_code].PaymentRender(t)},transactionText(t){if(t==="delivery")return this.$t("Delivery to");if(t==="pickup")return this.$t("Pickup to");if(t==="dinein")return this.$t("Go to")},removePromo(t,s){this.loading_promo_rm=!0;const u={cart_uuid:d.getStorage("cart_uuid"),promo_id:s.promo_id,promo_type:s.promo_type};d.removePromo(u).then(e=>{this.PromoStore.promo_selected[t]=[],this.CartStore.getCart(!1,this.payload)}).catch(e=>{d.notify("dark",e,"error",this.$q)}).then(e=>{this.loading_promo_rm=!1})},removePoints(t,s){this.loading_points_rm=!0;const u={cart_uuid:d.getStorage("cart_uuid"),points_type:t};d.removePoints(u).then(e=>{this.PointsStore.redeem_points=[],this.PointsStore.loadPoints(s),this.CartStore.getCart(!1,this.payload)}).catch(e=>{d.notify("dark",e,"error",this.$q)}).then(e=>{this.loading_points_rm=!1})},removeTips(){this.loading_tip_rm=!0,d.fetchDataPost("removeTips","cart_uuid="+d.getStorage("cart_uuid")).then(t=>{this.CartStore.getCart(!1,this.payload)}).catch(t=>{}).then(t=>{this.loading_tip_rm=!1})}}},pe={key:1,class:"text-center full-width"},he={class:"text-h5 text-weight-bold"},fe={class:"text-grey font12"},ye={class:"q-pl-md q-pr-md q-mb-sm"},ue={class:"font16 text-weight-bold line-normal"},ge={class:"row q-gutter-sm"},Se={class:"col-8"},Ce={class:"font12 text-weight-bold"},ve=c(" , "),be={class:"text-capitalize"},Pe={key:0,class:"font10 text-weight-light text-weight-medium"},ke={key:1,class:"font11 text-weight-light"},Ae={class:"font11 text-weight-light ellipsis"},qe={class:"q-pl-md q-pr-md q-mb-sm ellipsis font13 text-weight-bold q-pt-xs"},we={class:"text-capitalize"},ze={class:"row justify-end"},De={class:"q-pl-sm"},Re={class:"q-pl-md q-pr-md q-mb-sm font13 text-weight-bold q-pt-xs"},Qe={key:1,class:"q-pl-md q-pr-md row q-gutter-sm items-center"},xe={class:"col-2"},Le={class:"col"},Ve={class:"col-3"},Te=i("br",null,null,-1),Ee={key:3,class:"q-pl-md q-pr-md row q-gutter-sm items-center"},Ie={class:"col-2"},Oe={class:"col"},Me={class:"col-3"},je={class:"q-pl-md q-pr-md q-mt-sm ellipsis font13 text-weight-bold q-pt-xs border-grey-top"},Fe={key:5,class:"q-pl-md q-pr-md q-mb-sm q-pt-xs"},Ue={class:"row items-center q-mb-sm justify-between"},Be={class:"font13 text-weight-bold"},Ne={class:"q-pl-md q-pr-md q-mt-sm q-pt-xs border-grey-top"},Ye={class:"row items-center justify-between"},Ge={class:"font13 text-weight-bold"},He={class:"row items-center justify-between fit"},Je=i("div",{class:"text-weight-bold"},"Place Order",-1),Ke={key:0,class:"text-weight-bold"};function We(t,s,u,e,v,l){const R=f("CartDetails"),V=f("DIV"),T=f("TipsList"),E=f("PaymentListSaved"),I=f("DeliverySched"),O=f("ChangePhone"),M=f("ClientAddress"),j=f("PromoList"),F=f("PointsReedem"),U=f("StripeComponents"),B=f("VivaComponents"),N=f("PaypalComponents"),Y=f("RazorpayComponents"),G=f("MercadopagoComponents");return o(),_(b,null,[a(oe,{onRefresh:l.refresh},{default:r(()=>[a(ee,{reveal:"","reveal-offset":"10",class:A({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-black":!t.$q.dark.mode})},{default:r(()=>[a($,null,{default:r(()=>[a(y,{onClick:s[0]||(s[0]=h=>t.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",class:"q-mr-sm",color:t.$q.dark.mode?"white":"dark"},null,8,["color"]),a(Z,{class:"text-weight-bold"},{default:r(()=>[c(n(t.$t("Order Confirmation")),1)]),_:1})]),_:1})]),_:1},8,["class"]),a(re,{class:A({"flex flex-center":!e.CartStore.hasItem&&!e.CartStore.cart_loading})},{default:r(()=>[e.CartStore.cart_loading?(o(),p(Q,{key:0,showing:!0,color:"primary",size:"md","label-class":"dark"})):!e.CartStore.hasItem&&!e.CartStore.cart_loading?(o(),_("div",pe,[a(x,{src:"cart-empty.png",fit:"fill","spinner-color":"primary",style:{height:"80px","max-width":"80px"}}),i("div",he,n(t.$t("Your cart is empty")),1),i("p",fe,n(t.$t("You don't have any orders here! let's change that!")),1)])):(o(),_(b,{key:2},[i("div",ye,[a(y,{"no-caps":"",unelevated:"",flat:"",class:"q-pa-none",to:{name:"menu",params:{slug:e.CartStore.cart_merchant.slug}}},{default:r(()=>[i("div",ue,n(e.CartStore.cart_merchant.restaurant_name),1),a(P,{name:"las la-angle-right",color:"grey",size:"15px"})]),_:1},8,["to"]),i("div",ge,[a(x,{src:e.CartStore.cart_merchant.logo,lazy:"",fit:"cover",style:{height:"70px",width:"70px"},class:"radius8","spinner-color":"amber","spinner-size":"sm"},null,8,["src"]),i("div",Se,[i("div",Ce,[e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type]?(o(),_(b,{key:0},[c(n(e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type].service_name),1)],64)):(o(),_(b,{key:1},[c(n(e.CartStore.transaction_info.transaction_type),1)],64)),ve,i("span",be,n(e.CartStore.transaction_info.whento_deliver)+",",1)]),e.CartStore.transaction_info.whento_deliver=="schedule"?(o(),_("div",Pe,n(e.CartStore.transaction_info.delivery_date_pretty)+" "+n(e.CartStore.transaction_info.delivery_time.pretty_time),1)):(o(),_("div",ke,n(e.CartStore.data_transaction[e.CartStore.transaction_info.transaction_type].service_name)+" in "+n(e.CartStore.transaction_info.estimation)+", mins ",1)),i("div",Ae,n(e.CartStore.cart_merchant.address),1),a(y,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change order settings"),dense:"",size:"sm",class:"q-pt-none",onClick:s[1]||(s[1]=h=>this.$refs.delivery_sched.showSched(!0))},null,8,["color","label"])])])]),i("div",qe,[i("span",we,n(e.CartStore.transaction_info.transaction_type),1),c(" "+n(t.$t("Details")),1)]),a(z,{dense:""},{default:r(()=>[a(k,null,{default:r(()=>[a(m,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(P,{name:"las la-phone",size:"23px"})]),_:1})]),_:1}),a(m,null,{default:r(()=>[e.CartStore.phone_details.default_prefix?(o(),_(b,{key:0},[c(" ("+n(e.CartStore.phone_details.default_prefix)+") ",1)],64)):S("",!0),c(" "+n(e.CartStore.phone_details.contact_number),1)]),_:1}),a(m,{side:""},{default:r(()=>[a(y,{onClick:s[2]||(s[2]=h=>this.$refs.change_phone.showModal(!0)),flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md"},null,8,["color","label"])]),_:1})]),_:1}),e.CartStore.transaction_info.transaction_type=="delivery"?(o(),p(k,{key:0},{default:r(()=>[a(m,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(P,{name:"las la-map-marker-alt",size:"23px"})]),_:1})]),_:1}),a(m,null,{default:r(()=>[a(D,{lines:"2"},{default:r(()=>[c(n(e.CartStore.address_component.formatted_address),1)]),_:1})]),_:1}),a(m,{side:""},{default:r(()=>[a(y,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md",onClick:s[3]||(s[3]=h=>this.$refs.client_address.showModal(!0))},null,8,["color","label"])]),_:1})]),_:1})):(o(),p(k,{key:1},{default:r(()=>[a(m,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(P,{name:"las la-utensils",size:"23px"})]),_:1})]),_:1}),a(m,null,{default:r(()=>[a(D,{lines:"2"},{default:r(()=>[c(n(e.CartStore.cart_merchant.address),1)]),_:1})]),_:1}),a(m,{side:""},{default:r(()=>[e.CartStore.transaction_info.transaction_type=="delivery"?(o(),p(y,{key:0,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Change"),dense:"",size:"md"},null,8,["color","label"])):S("",!0)]),_:1})]),_:1})),a(k,null,{default:r(()=>[a(m,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(P,{name:"las la-utensils",size:"23px"})]),_:1})]),_:1}),a(m,null,{default:r(()=>[a(D,null,{default:r(()=>[c(n(t.$t("Cutlery")),1)]),_:1}),a(D,{caption:""},{default:r(()=>[c(n(t.$t("Include utensils, napkins, etc.")),1)]),_:1})]),_:1}),a(m,{side:""},{default:r(()=>[a(W,{modelValue:v.include_utensils,"onUpdate:modelValue":[s[4]||(s[4]=h=>v.include_utensils=h),l.setUtensil]},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),a(z,{bordered:""},{default:r(()=>[a(te,{"expand-separator":"",label:t.$t("Order Details"),caption:e.CartStore.items_count>1?e.CartStore.items_count+" "+t.$t("items"):e.CartStore.items_count+" "+t.$t("item"),class:"text-weight-bold"},{default:r(()=>[a(R,{ref:"cart_details",is_checkout:!1,payload:v.payload},null,8,["payload"]),e.CartStore.hasItem?(o(),p(V,{key:0,class:"q-pl-md q-pr-md border-grey-top"},{default:r(()=>[i("div",ze,[a(y,{unelevated:"",color:t.$q.dark.mode?"grey600":"mygrey","text-color":t.$q.dark.mode?"grey300":"dark","no-caps":"",size:"md",class:"radius8 q-mt-sm q-mb-md",to:{name:"menu",params:{slug:e.CartStore.cart_merchant.slug}}},{default:r(()=>[a(P,{name:"las la-plus",size:"15px"}),i("div",De,n(t.$t("Add more items")),1)]),_:1},8,["color","text-color","to"])])]),_:1})):S("",!0)]),_:1},8,["label","caption"])]),_:1}),i("div",Re,n(t.$t("Discount")),1),e.CartStore.points_enabled&&e.CartStore.mt_disabled_pts!=0?(o(),_("div",{key:0,class:A(["q-pa-md font20 text-center",{"bg-grey600 text-grey300":t.$q.dark.mode,"bg-green text-dark":!t.$q.dark.mode}]),style:{bottom:"51px"}},[i("b",null,n(e.CartStore.cart_points_cart_banner),1)],2)):S("",!0),e.PointsStore.loading?(o(),_("div",Qe,[i("div",xe,[a(w,{type:"QCheckbox"})]),i("div",Le,[a(w,{type:"rect"})]),i("div",Ve,[a(w,{type:"rect"})])])):e.PointsStore.count>0?(o(),p(z,{key:2,class:"q-mb-sm"},{default:r(()=>[a(k,null,{default:r(()=>[a(m,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(P,{name:"local_offer",size:"21px"})]),_:1})]),_:1}),a(m,null,{default:r(()=>[e.PointsStore.points_id[0]?(o(),_("span",{key:0,class:A(["",{"text-grey300":t.$q.dark.mode,"text-grey-8":!t.$q.dark.mode}])},[c(n(e.PointsStore.points_id[2]),1),Te,c(" "+n(e.PointsStore.points_id[1]),1)],2)):(o(),_(b,{key:1},[c(n(t.$t("Available points"))+" "+n(e.PointsStore.count),1)],64))]),_:1}),a(m,{side:""},{default:r(()=>[e.PointsStore.points_id[0]?(o(),p(y,{key:0,onClick:s[5]||(s[5]=h=>l.removePoints(e.PointsStore.points_id.points,e.CartStore.cart_merchant.merchant_id)),loading:v.loading_points_rm,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Remove"),dense:"",size:"md"},null,8,["loading","color","label"])):(o(),p(y,{key:1,onClick:s[6]||(s[6]=h=>this.$refs.points_list.showModal(!0)),flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",dense:"",size:"md"},{default:r(()=>[c(n(e.PointsStore.data.button_redeem),1)]),_:1},8,["color"]))]),_:1})]),_:1})]),_:1})):S("",!0),e.PromoStore.loading?(o(),_("div",Ee,[i("div",Ie,[a(w,{type:"QCheckbox"})]),i("div",Oe,[a(w,{type:"rect"})]),i("div",Me,[a(w,{type:"rect"})])])):(o(),p(z,{key:4,class:"q-mb-sm"},{default:r(()=>[a(k,null,{default:r(()=>[a(m,{avatar:""},{default:r(()=>[a(q,{color:"secondary",size:"md","text-color":"white"},{default:r(()=>[a(P,{name:"local_offer",size:"21px"})]),_:1})]),_:1}),a(m,null,{default:r(()=>[e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id]&&e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].promo_id?(o(),_("span",{key:0,class:A(["",{"text-grey300":t.$q.dark.mode,"text-grey-8":!t.$q.dark.mode}])},n(e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].savings),3)):(o(),_(b,{key:1},[c(n(t.$t("Add a promo")),1)],64))]),_:1}),a(m,{side:""},{default:r(()=>[e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id]&&e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id].promo_id?(o(),p(y,{key:0,onClick:s[7]||(s[7]=h=>l.removePromo(e.CartStore.cart_merchant.merchant_id,e.PromoStore.promo_selected[e.CartStore.cart_merchant.merchant_id])),loading:v.loading_promo_rm,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Remove"),dense:"",size:"md"},null,8,["loading","color","label"])):(o(),p(y,{key:1,onClick:s[8]||(s[8]=h=>this.$refs.promo_list.showModal(!0)),flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Add"),dense:"",size:"md"},null,8,["color","label"]))]),_:1})]),_:1})]),_:1})),i("div",je,n(t.$t("Summary")),1),a(z,{dense:"",class:"text-grey qlist-min-height text-weight-medium"},{default:r(()=>[(o(!0),_(b,null,X(e.CartStore.cart_summary,h=>(o(),_(b,{key:h},[h.type=="total"?(o(),p(k,{key:0,class:"text-weight-bold font16 text-dark hidden"},{default:r(()=>[a(m,null,{default:r(()=>[c(n(h.name),1)]),_:2},1024),a(m,{side:""},{default:r(()=>[c(n(h.value),1)]),_:2},1024)]),_:2},1024)):(o(),p(k,{key:1},{default:r(()=>[a(m,null,{default:r(()=>[c(n(h.name),1)]),_:2},1024),a(m,{side:""},{default:r(()=>[c(n(h.value),1)]),_:2},1024)]),_:2},1024))],64))),128))]),_:1}),e.DataStore.tips_data&&!e.CartStore.cart_loading&&e.CartStore.enabled_tip==1?(o(),_("div",Fe,[i("div",Ue,[i("div",Be,n(t.$t("Tips")),1),e.CartStore.tips_data.tips>0?(o(),p(y,{key:0,flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Remove tips"),dense:"",size:"md",onClick:l.removeTips,loading:v.loading_tip_rm},null,8,["color","label","onClick","loading"])):S("",!0)]),e.CartStore.enabled_tip==1?(o(),p(T,{key:0,ref:"tips",onAfterApplytips:l.afterApplytips,tips_data:e.DataStore.tips_data,tips_value:e.CartStore.tips_data},null,8,["onAfterApplytips","tips_data","tips_value"])):S("",!0)])):S("",!0),i("div",Ne,[i("div",Ye,[i("div",Ge,n(t.$t("Payment")),1),a(y,{flat:"",color:t.$q.dark.mode?"secondary":"blue","no-caps":"",label:t.$t("Add"),dense:"",size:"md",to:"/account/payments/new?redirect=/checkout"},null,8,["color","label"])])]),e.CartStore.cart_merchant.merchant_id?(o(),p(E,{key:6,ref:"saved_payment",onSetPaymentuuid:l.setPaymentuuid,onAfterLoadpaymentlist:l.afterLoadpaymentlist,merchant_id:e.CartStore.cart_merchant.merchant_id},null,8,["onSetPaymentuuid","onAfterLoadpaymentlist","merchant_id"])):S("",!0),a(ae,{class:"q-pa-md"})],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"]),a(Q,{showing:e.CartStore.cart_reloading,color:"primary",size:"md","label-class":"dark"},null,8,["showing"]),e.CartStore.items_count>0&&!e.CartStore.cart_loading?(o(),p(ne,{key:0,reveal:"",class:A(["q-pl-md q-pr-md q-pb-sm q-pt-sm text-dark",{"bg-primary":!e.CartStore.cart_reloading,"bg-grey-5":e.CartStore.cart_reloading}])},{default:r(()=>[a(y,{onClick:l.onPlaceorder,loading:v.loading,disable:!e.CartStore.canProceed,unelevated:"","text-color":"white","no-caps":"",class:"radius10 fit",color:{primary:!e.CartStore.cart_reloading,"grey-5":e.CartStore.cart_reloading}},{default:r(()=>[i("div",He,[Je,e.CartStore.cart_total?(o(),_("div",Ke,n(e.CartStore.cart_total.value),1)):S("",!0)])]),_:1},8,["onClick","loading","disable","color"])]),_:1},8,["class"])):S("",!0),a(I,{ref:"delivery_sched",slug:e.CartStore.cart_merchant.slug,onAfterSavetrans:l.afterSavetrans},null,8,["slug","onAfterSavetrans"]),a(O,{ref:"change_phone",onAfterChangephone:l.afterChangephone,prefixes:e.DataStore.phone_prefix_data,phone_prefix_orig:e.CartStore.phone_details.default_prefix,contact_number_orig:e.CartStore.phone_details.contact_number},null,8,["onAfterChangephone","prefixes","phone_prefix_orig","contact_number_orig"]),a(M,{ref:"client_address",redirect:this.$route.path,onAfterSetplaceid:l.afterSetplaceid,onFillAddress:l.fillAddress},null,8,["redirect","onAfterSetplaceid","onFillAddress"]),e.CartStore.cart_merchant.merchant_id?(o(),p(j,{key:1,ref:"promo_list",enabled_voucher:e.CartStore.enabled_voucher,onAfterApplypromo:l.afterApplypromo,onAfterRemovepromo:l.afterRemovepromo,merchant_id:e.CartStore.cart_merchant.merchant_id},null,8,["enabled_voucher","onAfterApplypromo","onAfterRemovepromo","merchant_id"])):S("",!0),e.CartStore.cart_merchant.merchant_id?(o(),p(F,{key:2,ref:"points_list",enabled_voucher:e.CartStore.enabled_voucher,onAfterApplypoints:l.afterApplypoints,onAfterRemovepoints:l.afterRemovepoints,merchant_id:e.CartStore.cart_merchant.merchant_id},null,8,["enabled_voucher","onAfterApplypoints","onAfterRemovepoints","merchant_id"])):S("",!0),a(U,{ref:"stripe",payment_code:"stripe",title:t.$t("Add Stripe"),label:{submit:this.$t("Add Stripe"),notes:this.$t("Add your card account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["title","label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(B,{ref:"viva",payment_code:"viva",title:t.$t("Add Viva payment"),label:{submit:this.$t("Add Viva payment"),notes:this.$t("Pay using your Viva account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["title","label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(N,{ref:"paypal",payment_code:"paypal",title:t.$t("Add Paypal"),label:{submit:this.$t("Add Paypal"),notes:this.$t("Pay using your paypal account"),payment_title:this.$t("Pay using Paypal"),payment_subtitle:this.$t("You will re-direct to paypal account to login to your account.")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["title","label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(Y,{ref:"razorpay",payment_code:"razorpay",title:t.$t("Add Razorpay"),label:{submit:this.$t("Submit"),notes:this.$t("Pay using your Razorpay account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["title","label","payment_credentials","onAfterAddpayment","onAfterPayment"]),a(G,{ref:"mercadopago",payment_code:"mercadopago",title:t.$t("Add Mercadopago"),label:{submit:this.$t("Add Mercadopago"),submit_form:this.$t("Submit"),notes:this.$t("Pay using your mercadopago account")},payment_credentials:e.PaymentStore.credentials[e.CartStore.cart_merchant.merchant_id],onAfterAddpayment:l.afterAddpayment,onAfterPayment:l.afterPayment},null,8,["title","label","payment_credentials","onAfterAddpayment","onAfterPayment"])],64)}var Xe=J(_e,[["render",We]]),yt=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"}));export{yt as C,me as u};
