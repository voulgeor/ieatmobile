import{Q as g}from"./QSpace.5710b96a.js";import{_ as p,n,q as y,t as h,u as t,k as r,V as m,af as b,R as a,X as u,ac as i,b2 as _,bG as f,ae as q,aa as V}from"./index.e1f31b72.js";import{Q as v}from"./QToolbar.9ad6ac15.js";import{Q as k}from"./QForm.a5d827f4.js";const w={name:"ocrComponents",props:["title","label","payment_code","payment_credentials"],setup(){return{}},data(){return{show_modal:!1,data:[],loading:!1,credit_card_number:"",expiry_date:"",cvv:"",card_name:"",billing_address:""}},methods:{showPaymentForm(){this.show_modal=!0},close(){this.show_modal=!1},onSubmit(){this.loading=!0;let l=0;typeof this.payment_credentials[this.payment_code]!="undefined"&&this.payment_credentials[this.payment_code]!==null&&(l=this.payment_credentials[this.payment_code].merchant_id);const o={credit_card_number:this.credit_card_number,expiry_date:this.expiry_date,cvv:this.cvv,card_name:this.card_name,billing_address:this.billing_address,merchant_id:l,payment_code:this.payment_code};n.savedCards(o).then(d=>{this.close(),this.$emit("afterAddpayment")}).catch(d=>{n.notify("dark",d,"error",this.$q)}).then(d=>{this.loading=!1})}}},Q={class:"text-weight-bold no-margin"},C={class:"q-ma-sm"},$={class:"font12"},S={class:"column q-col-gutter-sm"},U={class:"row q-col-gutter-md"},B={class:"col"},A={class:"col"},I={class:"column"},z={class:"col"},D={class:"col"};function F(l,o,d,N,s,c){return y(),h(V,{modelValue:s.show_modal,"onUpdate:modelValue":o[6]||(o[6]=e=>s.show_modal=e),persistent:"","transition-show":"fade","transition-hide":"fade"},{default:t(()=>[r(q,{style:{width:"500px","max-width":"80vw"}},{default:t(()=>[r(v,{class:"text-primary top-toolbar q-pl-md",dense:""},{default:t(()=>[r(g),r(m,{onClick:o[0]||(o[0]=e=>s.show_modal=!1),color:"white",square:"",unelevated:"","text-color":"grey",icon:"las la-times",dense:"","no-caps":"",size:"sm",class:"border-grey radius8"})]),_:1}),r(k,{onSubmit:c.onSubmit},{default:t(()=>[r(b,{class:"q-pa-md"},{default:t(()=>[a("h5",Q,u(d.title),1),a("div",C,[a("p",$,u(d.label.notes),1)]),a("div",S,[r(i,{dense:"","bg-color":l.$q.dark.mode?"grey600":"mygrey",color:l.$q.dark.mode?"grey300":"primary",outlined:"",modelValue:s.credit_card_number,"onUpdate:modelValue":o[1]||(o[1]=e=>s.credit_card_number=e),label:l.$t("Card number"),rules:[e=>e&&e.length>0||l.$t("this field is required")],mask:"#### #### #### ####"},null,8,["bg-color","color","modelValue","label","rules"])]),a("div",U,[a("div",B,[r(i,{dense:"","bg-color":l.$q.dark.mode?"grey600":"mygrey",color:l.$q.dark.mode?"grey300":"primary",outlined:"",modelValue:s.expiry_date,"onUpdate:modelValue":o[2]||(o[2]=e=>s.expiry_date=e),label:l.$t("Exp. date"),class:"no-margin",rules:[e=>e&&e.length>0||l.$t("this field is required")],mask:"##/##"},null,8,["bg-color","color","modelValue","label","rules"])]),a("div",A,[r(i,{dense:"","bg-color":l.$q.dark.mode?"grey600":"mygrey",color:l.$q.dark.mode?"grey300":"primary",outlined:"",modelValue:s.cvv,"onUpdate:modelValue":o[3]||(o[3]=e=>s.cvv=e),label:l.$t("Security Code"),class:"no-margin",rules:[e=>e&&e.length>0||l.$t("this field is required")],mask:"####"},null,8,["bg-color","color","modelValue","label","rules"])])]),a("div",I,[a("div",z,[r(i,{dense:"","bg-color":l.$q.dark.mode?"grey600":"mygrey",color:l.$q.dark.mode?"grey300":"primary",outlined:"",modelValue:s.card_name,"onUpdate:modelValue":o[4]||(o[4]=e=>s.card_name=e),class:"no-margin",label:l.$t("Card name"),rules:[e=>e&&e.length>0||l.$t("this field is required")]},null,8,["bg-color","color","modelValue","label","rules"])]),a("div",D,[r(i,{dense:"","bg-color":l.$q.dark.mode?"grey600":"mygrey",color:l.$q.dark.mode?"grey300":"primary",outlined:"",modelValue:s.billing_address,"onUpdate:modelValue":o[5]||(o[5]=e=>s.billing_address=e),class:"no-margin",label:l.$t("Billing address"),rules:[e=>e&&e.length>0||l.$t("this field is required")]},null,8,["bg-color","color","modelValue","label","rules"])])])]),_:1}),r(_,{spaced:"",class:"q-pt-none"}),r(f,null,{default:t(()=>[r(m,{type:"submit",label:l.$t(d.label.submit),loading:s.loading,unelevated:"","no-caps":"",color:"primary text-white",class:"full-width text-weight-bold",size:"lg"},null,8,["label","loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue"])}var T=p(w,[["render",F]]);export{T as default};
