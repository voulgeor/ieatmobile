import{x as F,i as R,r as v,D as _,c as n,w as s,J as $,H as L,h as d,g as O,B as S}from"./index.bc7ef6d7.js";import{Q as I}from"./QResizeObserver.3eefdf89.js";var D=F({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(o,{slots:V,emit:h}){const{proxy:{$q:c}}=O(),t=R(S,()=>{console.error("QFooter needs to be child of QLayout")}),r=v(parseInt(o.heightHint,10)),l=v(!0),m=v(_.value===!0||t.isContainer.value===!0?0:window.innerHeight),f=n(()=>o.reveal===!0||t.view.value.indexOf("F")>-1||c.platform.is.ios&&t.isContainer.value===!0),g=n(()=>t.isContainer.value===!0?t.containerHeight.value:m.value),y=n(()=>{if(o.modelValue!==!0)return 0;if(f.value===!0)return l.value===!0?r.value:0;const e=t.scroll.value.position+g.value+r.value-t.height.value;return e>0?e:0}),b=n(()=>o.modelValue!==!0||f.value===!0&&l.value!==!0),x=n(()=>o.modelValue===!0&&b.value===!0&&o.reveal===!0),z=n(()=>"q-footer q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-bottom"+(o.bordered===!0?" q-footer--bordered":"")+(b.value===!0?" q-footer--hidden":"")+(o.modelValue!==!0?" q-layout--prevent-focus"+(f.value!==!0?" hidden":""):"")),H=n(()=>{const e=t.rows.value.bottom,a={};return e[0]==="l"&&t.left.space===!0&&(a[c.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(a[c.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),a});function u(e,a){t.update("footer",e,a)}function i(e,a){e.value!==a&&(e.value=a)}function q({height:e}){i(r,e),u("size",e)}function Q(){if(o.reveal!==!0)return;const{direction:e,position:a,inflectionPoint:C}=t.scroll.value;i(l,e==="up"||a-C<100||t.height.value-g.value-a-r.value<300)}function B(e){x.value===!0&&i(l,!0),h("focusin",e)}s(()=>o.modelValue,e=>{u("space",e),i(l,!0),t.animate()}),s(y,e=>{u("offset",e)}),s(()=>o.reveal,e=>{e===!1&&i(l,o.modelValue)}),s(l,e=>{t.animate(),h("reveal",e)}),s([r,t.scroll,t.height],Q),s(()=>c.screen.height,e=>{t.isContainer.value!==!0&&i(m,e)});const w={};return t.instances.footer=w,o.modelValue===!0&&u("size",r.value),u("space",o.modelValue),u("offset",y.value),$(()=>{t.instances.footer===w&&(t.instances.footer=void 0,u("size",0),u("offset",0),u("space",!1))}),()=>{const e=L(V.default,[d(I,{debounce:0,onResize:q})]);return o.elevated===!0&&e.push(d("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),d("footer",{class:z.value,style:H.value,onFocusin:B},e)}}});export{D as Q};
