import{T as D}from"./QPullToRefresh.df556b44.js";import{x as M,a3 as j,a5 as z,r as E,c as x,$ as F,J as R,h,z as T,ai as _,g as B}from"./index.bc7ef6d7.js";import{u as I}from"./use-cache.f338bfdb.js";const C=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var X=M({name:"QSlideItem",props:{...j,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(c,{slots:n,emit:g}){const{proxy:v}=B(),{$q:b}=v,$=z(c,b),{getCacheWithFn:S}=I(),m=E(null);let y,e={},f={},u={};const l=x(()=>b.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),k=x(()=>"q-slide-item q-item-type overflow-hidden"+($.value===!0?" q-slide-item--dark q-dark":""));function p(){m.value.style.transform="translate(0,0)"}function w(t,a,r){c.onSlide!==void 0&&g("slide",{side:t,ratio:a,isReset:r})}function q(t){const a=m.value;if(t.isFirst)e={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},a.classList.add("no-transition"),C.forEach(i=>{if(n[i[0]]!==void 0){const d=u[i[0]];d.style.transform="scale(1)",e.size[i[0]]=d.getBoundingClientRect()[i[3]]}}),e.axis=t.direction==="up"||t.direction==="down"?"Y":"X";else if(t.isFinal){a.classList.remove("no-transition"),e.scale===1?(a.style.transform=`translate${e.axis}(${e.dir*100}%)`,y=setTimeout(()=>{g(e.showing,{reset:p}),g("action",{side:e.showing,reset:p})},230)):(a.style.transform="translate(0,0)",w(e.showing,0,!0));return}else t.direction=e.axis==="X"?t.offset.x<0?"left":"right":t.offset.y<0?"up":"down";if(n.left===void 0&&t.direction===l.value.right||n.right===void 0&&t.direction===l.value.left||n.top===void 0&&t.direction==="down"||n.bottom===void 0&&t.direction==="up"){a.style.transform="translate(0,0)";return}let r,s,o;e.axis==="X"?(s=t.direction==="left"?-1:1,r=s===1?l.value.left:l.value.right,o=t.distance.x):(s=t.direction==="up"?-2:2,r=s===2?"top":"bottom",o=t.distance.y),!(e.dir!==null&&Math.abs(s)!==Math.abs(e.dir))&&(e.dir!==s&&(["left","right","top","bottom"].forEach(i=>{f[i]&&(f[i].style.visibility=r===i?"visible":"hidden")}),e.showing=r,e.dir=s),e.scale=Math.max(0,Math.min(1,(o-40)/e.size[r])),a.style.transform=`translate${e.axis}(${o*s/Math.abs(s)}px)`,u[r].style.transform=`scale(${e.scale})`,w(r,e.scale,!1))}return F(()=>{f={},u={}}),R(()=>{clearTimeout(y)}),Object.assign(v,{reset:p}),()=>{const t=[],a={left:n[l.value.right]!==void 0,right:n[l.value.left]!==void 0,up:n.bottom!==void 0,down:n.top!==void 0},r=Object.keys(a).filter(o=>a[o]===!0);C.forEach(o=>{const i=o[0];n[i]!==void 0&&t.push(h("div",{ref:d=>{f[i]=d},class:`q-slide-item__${i} absolute-full row no-wrap items-${o[1]} justify-${o[2]}`+(c[i+"Color"]!==void 0?` bg-${c[i+"Color"]}`:"")},[h("div",{ref:d=>{u[i]=d}},n[i]())]))});const s=h("div",{key:`${r.length===0?"only-":""} content`,ref:m,class:"q-slide-item__content"},T(n.default));return r.length===0?t.push(s):t.push(_(s,S("dir#"+r.join(""),()=>{const o={prevent:!0,stop:!0,mouse:!0};return r.forEach(i=>{o[i]=!0}),[[D,q,void 0,o]]}))),h("div",{class:k.value},t)}}});export{X as Q};
